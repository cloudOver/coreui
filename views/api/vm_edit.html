<div class="text-center">
    <form id="create">
        <div class="row">
            <div class="col-md-1 hidden-sm">
            </div>
            <div class="col-md-5 col-sm-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Actions
                    </div>
                    <div class="panel-body">
                        <div class="btn-group btn-group-sm">
                            <button class="btn btn-danger" ng-click="vmCleanup()"><span class="glyphicon glyphicon-remove"></span> Cleanup</button>
                            <button class="btn btn-success" ng-show="vm.state == 'stopped'" ng-click="vmStart()"><span class="glyphicon glyphicon-play"></span> Start</button>
                            <button class="btn btn-primary" ng-show="vm.state == 'running'" ng-click="vmReset()"><span class="glyphicon glyphicon-refresh"></span> Reset</button>
                            <button class="btn btn-warning" ng-show="vm.state == 'running'" ng-click="vmShutdown()"><span class="glyphicon glyphicon-arrow-down"></span> Shut down</button>
                            <button class="btn btn-warning" ng-show="vm.state == 'running'" ng-click="vmPoweroff()"><span class="glyphicon glyphicon-off"></span> Power off</button>
                            <button class="btn btn-success" ng-show="vm.state == 'stopped'" ng-click="vmSaveImage()"><span class="glyphicon glyphicon-save"></span> Save base image</button>
                            <button class="btn btn-success" ng-click="vmConsole()"><span class="glyphicon glyphicon-hd-video"></span> VNC</button>
                        </div>
                    </div>
                </div>
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        VM details
                    </div>
                    <div class="panel-body">
                        <div class="input-group">
                            <span class="input-group-addon">ID</span>
                            <input type="text" id="id" ng-model="vm.id" class="form-control" placeholder="ID" readonly>
                        </div>
                        <hr/>
                        <div class="input-group">
                            <span class="input-group-addon">Name</span>
                            <input type="text" id="name" ng-model="vm.name" class="form-control" placeholder="Name">
                        </div>
                        <hr/>
                        <div class="input-group">
                            <span class="input-group-addon">Description</span>
                            <textarea type="text" id="description" ng-model="vm.description" class="form-control" placeholder="Short description"></textarea>
                        </div>
                        <hr/>
                        <div class="input-group">
                            <span class="input-group-addon">State</span>
                            <input type="text" id="state" ng-model="vm.state" class="form-control" readonly>
                        </div>
                        <hr/>
                        <div class="input-group">
                            <span class="input-group-addon">Start time</span>
                            <input type="text" id="created" ng-model="vm.start_time" class="form-control" placeholder="Name" readonly>
                        </div>
                        <hr ng-show="vm.state == 'running' && vm.vnc_enabled"/>
                        <div class="input-group" ng-show="vm.state == 'running' && vm.vnc_enabled">
                            <span class="input-group-addon">Vnc address</span>
                            <input type="text" id="vnc_addr" ng-attr-value="vnc://{{vm.vnc_address}}:{{vm.vnc_port}}" class="form-control" placeholder="Vnc port" readonly>
                        </div>
                        <br ng-show="vm.state == 'running' && vm.vnc_enabled"/>
                        <div class="input-group" ng-show="vm.state == 'running' && vm.vnc_enabled">
                            <span class="input-group-addon">Vnc password</span>
                            <input type="text" id="vnc_passwd" ng-model="vm.vnc_passwd" class="form-control" readonly>
                        </div>
                    </div>
                </div>
                <!--<div class="panel panel-default">
                    <div class="panel-heading">
                        Networking
                    </div>
                    <div class="panel-body">
                        <fieldset data-ng-repeat="lease in vm.leases">
                            {{ lease.address }}<br />
                        </fieldset>
                        <button class="btn btn-primary btn-sm btn-block" id="addNIC" ng-click="addNIC()"><span class="glyphicon glyphicon-plus"></span>Add NIC</button>
                        <br/>
                        <fieldset data-ng-repeat="nic in nics">
                            <div class="row">
                                <div class="col-md-10">
                                    <select ng-model="nic.lease" ng-options="lease.address for lease in leases | filter:{vm_id: 'null'}" class="form-control">
                                        <option value="">-- select lease --</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <button class="btn btn-sm btn-danger btn-block" ng-click="removeNIC(nic)"><span class="glyphicon glyphicon-remove"></span></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>-->
            </div>
            <div class="col-md-5 col-sm-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Virtual hardware
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="pull-right">Resources:</div>
                            </div>
                            <div class="col-md-8">
                                {{ vm.template.name }}
                            </div>
                        </div>
                        <hr/>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="pull-right">Base image:</div>
                            </div>
                            <div class="col-md-8">
                                {{ vm.base_image.id }}
                            </div>
                        </div>
                        <hr/>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="pull-right">Remote screen:</div>
                            </div>
                            <div class="col-md-8">
                                {{ vm.vnc_enabled }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading" onclick="$('#data').toggle();">
                        Additional options <span class="glyphicon glyphicon-menu-down"></span>
                    </div>
                    <div class="panel-body" id="data" style="display: none">
                        <table class="table table-striped">
                            <thead>
                            <th>Name</th>
                            <th>Value</th>
                            </thead>
                            <tr data-ng-repeat="(k, v) in vm.data">
                                <td>{{k}}</td>
                                <td>{{v}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading" onclick="$('#tasks').toggle();">
                        Tasks <span class="glyphicon glyphicon-menu-down"></span>
                    </div>
                    <div class="panel-body" id="tasks" style="display: none">
                        <table class="table table-striped">
                            <thead>
                            <th>Type</th>
                            <th>Action</th>
                            <th>State</th>
                            </thead>
                            <tr data-ng-repeat="task in vm.tasks" ng-class="{danger: task.state=='failed', success: task.state=='in progress', warning: task.state=='not active'}">
                                <td>{{task.type}}</td>
                                <td>{{task.action}}</td>
                                <td>{{task.state}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <!--<div class="panel panel-default">
                    <div class="panel-heading">
                        External storages
                    </div>
                    <div class="panel-body">
                        <button class="btn btn-primary btn-sm btn-block" id="addStorage" ng-click="addStorage()"><span class="glyphicon glyphicon-plus"></span>Add storage</button>
                        <br/>
                        <fieldset data-ng-repeat="storage in storages">
                            <div class="row">
                                <div class="col-md-10">
                                    <select ng-model="storage.image" ng-options="image.name for image in images | filter:{type: 'permanent', attached_to_id: 'null'}" class="form-control">
                                        <option value="">-- select storage --</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <button class="btn btn-sm btn-danger btn-block" ng-click="removeStorage(storage)"><span class="glyphicon glyphicon-remove"></span></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>-->
            </div>
            <div class="col-md-1 hidden-sm"></div>
        </div>

        <a href="#/api/vm/">Go back to instances list</a>
        &nbsp;&nbsp;&nbsp;
        <button type="submit" ng-click="vmSave()" class="btn btn-lg btn-success">Save</button>
    </form>
</div>
