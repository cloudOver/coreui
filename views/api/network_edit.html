<!--
Copyright (c) 2014-2016 cloudover.io ltd.

This file is part of CloudOver project.

cloudover.coreCluster is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->

<div class="text-center">
    <div class="row">
        <div class="col-md-1 hidden-sm">
        </div>
        <div class="col-md-5 col-sm-6">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    Actions
                </div>
                <div class="panel-body">
                    <div class="btn-group">
                        <button class="btn btn-danger" ng-click="networkRemove()"><span class="glyphicon glyphicon-remove"></span>Remove</button>
                    </div>
                </div>
            </div>
            <div class="panel panel-primary">
                <div class="panel-heading">
                    Network details
                </div>
                <div class="panel-body">
                    <div class="input-group">
                        <div class="input-group-addon">ID</div>
                        <input type="text" readonly id="id" ng-model="network.id" class="form-control" placeholder="ID" autofocus>
                    </div>
                    <hr/>
                    <div class="input-group">
                        <div class="input-group-addon">Name</div>
                        <input type="text" id="name" ng-model="network.name" class="form-control" placeholder="Name" required autofocus>
                    </div>
                    <br/>
                    <div class="input-group">
                        <div class="input-group-addon">Address</div>
                        <input type="text" readonly id="address" ng-model="network.address+'/'+network.mask" class="form-control" placeholder="Address" autofocus>
                    </div>
                    <hr/>
                    <div ng-show="network.is_isolated">
                        Network is isolated
                    </div>
                    <div ng-show="!network.is_isolated">
                        Network is accessible through whole cloud
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-5 col-sm-6">
            <div class="panel panel-default" id="dhcp" style="display: none;">
                <div class="panel-heading">
                    DHCP
                </div>
                <div class="panel-body">
                    <input class="form-control" placeholder="Gateway address" ng-model="network.data.gateway"/>
                    <hr/>
                    <div class="btn-group">
                        <button class="btn btn-success" ng-click="dhcpStart()">Start/restart</button>
                        <button class="btn btn-danger" ng-click="dhcpStop()">Stop</button>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    Leases
                </div>
                <div class="panel-body">
                    <fieldset data-ng-repeat="lease in leases">
                        <div class="row">
                            <div class="col-md-4">
                                {{ lease.address }}
                            </div>
                            <div class="col-md-8" ng-show="lease.vm_id">
                                {{ lease.vm_id }}
                            </div>
                            <div class="col-md-8" ng-show="!lease.vm_id">
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="panel panel-default" ng-show="network.mode == 'isolated'">
                <div class="panel-heading">
                    Create lease
                </div>
                <div class="panel-body text-center">
                    <div class="input-group">
                        <span class="input-group-addon">Address: </span>
                        <input type="text" id="address" class="form-control" ng-model="address"/>
                    </div>
                    <button class="btn btn-success text-center" ng-click="networkCreateLease()">Add lease</button>
                </div>
            </div>
        </div>
        <div class="col-md-1 hidden-sm"></div>
    </div>
    <br/>
    <a href="#/api/network/">Go back to network list</a>
    &nbsp;&nbsp;&nbsp;
    <button type="submit" ng-click="networkSave()" class="btn btn-lg btn-success">Save changes</button>
</div>
